{"version":3,"file":"Button.stories-e84f977a.js","sources":["../../src/Button/Button.jsx"],"sourcesContent":["import { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@emotion/styled';\nimport { darken, rgba } from 'polished';\nimport { color, typography } from '../shared/styles';\nimport { easing } from '../shared/animation';\n\nconst Text = styled.span`\n  display: inline-block;\n  vertical-align: top;\n`;\n\nconst Loading = styled.span`\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  opacity: 0;\n`;\n\nconst APPEARANCES = {\n  PRIMARY: 'primary',\n  PRIMARY_OUTLINE: 'primaryOutline',\n  SECONDARY: 'secondary',\n  SECONDARY_OUTLINE: 'secondaryOutline',\n  TERTIARY: 'tertiary',\n  OUTLINE: 'outline',\n};\n\nconst SIZES = {\n  SMALL: 'small',\n  MEDIUM: 'medium',\n};\n\nconst StyledButton = styled.button`\n  border: 0;\n  border-radius: 3em;\n  cursor: pointer;\n  display: inline-block;\n  overflow: hidden;\n  padding: ${(props) =>\n    props.size === SIZES.SMALL ? '8px 16px' : '13px 20px'};\n  position: relative;\n  text-align: center;\n  text-decoration: none;\n  transition: all 150ms ease-out;\n  transform: translate3d(0, 0, 0);\n  vertical-align: top;\n  white-space: nowrap;\n  user-select: none;\n  opacity: 1;\n  margin: 0;\n  background: transparent;\n\n  font-size: ${(props) =>\n    props.size === SIZES.SMALL ? typography.size.s1 : typography.size.s2}px;\n  font-weight: ${typography.weight.extrabold};\n  line-height: 1;\n\n  ${(props) =>\n    !props.isLoading &&\n    `\n      &:hover {\n        transform: translate3d(0, -2px, 0);\n        box-shadow: rgba(0, 0, 0, 0.2) 0 2px 6px 0;\n      }\n\n      &:active {\n        transform: translate3d(0, 0, 0);\n      }\n\n      &:focus {\n        box-shadow: ${rgba(color.primary, 0.4)} 0 1px 9px 2px;\n      }\n\n      &:focus:hover {\n        box-shadow: ${rgba(color.primary, 0.2)} 0 8px 18px 0px;\n      }\n    `}\n\n  ${Text} {\n    transform: scale3d(1, 1, 1) translate3d(0, 0, 0);\n    transition: transform 700ms ${easing.rubber};\n    opacity: 1;\n  }\n\n  ${Loading} {\n    transform: translate3d(0, 100%, 0);\n  }\n\n  svg {\n    height: ${(props) => (props.size === SIZES.SMALL ? '14' : '16')}px;\n    width: ${(props) => (props.size === SIZES.SMALL ? '14' : '16')}px;\n    vertical-align: top;\n    margin-right: ${(props) => (props.size === SIZES.SMALL ? '4' : '6')}px;\n    margin-top: ${(props) => (props.size === SIZES.SMALL ? '-1' : '-2')}px;\n    margin-bottom: ${(props) => (props.size === SIZES.SMALL ? '-1' : '-2')}px;\n\n    /* Necessary for js mouse events to not glitch out when hovering on svgs */\n    pointer-events: none;\n  }\n\n  ${(props) =>\n    props.disabled &&\n    `\n      cursor: not-allowed !important;\n      opacity: 0.5;\n      &:hover {\n        transform: none;\n      }\n    `}\n\n  ${(props) =>\n    props.isUnclickable &&\n    `\n      cursor: default !important;\n      pointer-events: none;\n      &:hover {\n        transform: none;\n      }\n    `}\n\n  ${(props) =>\n    props.isLoading &&\n    `\n      cursor: progress !important;\n      opacity: 0.7;\n\n      ${Loading} {\n        transition: transform 700ms ${easing.rubber};\n        transform: translate3d(0, -50%, 0);\n        opacity: 1;\n      }\n\n      ${Text} {\n        transform: scale3d(0, 0, 1) translate3d(0, -100%, 0);\n        opacity: 0;\n      }\n\n      &:hover {\n        transform: none;\n      }\n    `}\n\n  ${(props) =>\n    props.containsIcon &&\n    `\n      svg {\n        display: block;\n        margin: 0;\n      }\n      padding: ${props.size === SIZES.SMALL ? '7' : '12'}px;\n    `}\n\n  ${(props) =>\n    props.appearance === APPEARANCES.PRIMARY &&\n    `\n      background: ${color.primary};\n      color: ${color.lightest};\n\n      ${\n        !props.isLoading &&\n        `\n          &:hover {\n            background: ${darken(0.05, color.primary)};\n          }\n          &:active {\n            box-shadow: rgba(0, 0, 0, 0.1) 0 0 0 3em inset;\n          }\n          &:focus {\n            box-shadow: ${rgba(color.primary, 0.4)} 0 1px 9px 2px;\n          }\n          &:focus:hover {\n            box-shadow: ${rgba(color.primary, 0.2)} 0 8px 18px 0px;\n          }\n        `\n      }\n    `}\n\n  ${(props) =>\n    props.appearance === APPEARANCES.SECONDARY &&\n    `\n      background: ${color.secondary};\n      color: ${color.lightest};\n\n      ${\n        !props.isLoading &&\n        `\n          &:hover {\n            background: ${darken(0.05, color.secondary)};\n          }\n          &:active {\n            box-shadow: rgba(0, 0, 0, 0.1) 0 0 0 3em inset;\n          }\n          &:focus {\n            box-shadow: ${rgba(color.secondary, 0.4)} 0 1px 9px 2px;\n          }\n          &:focus:hover {\n            box-shadow: ${rgba(color.secondary, 0.2)} 0 8px 18px 0px;\n          }\n        `\n      }\n    `}\n\n  ${(props) =>\n    props.appearance === APPEARANCES.TERTIARY &&\n    `\n      background: ${color.tertiary};\n      color: ${color.darkest};\n\n      ${\n        !props.isLoading &&\n        `\n          &:hover {\n            background: ${darken(0.05, color.tertiary)};\n          }\n          &:active {\n            box-shadow: rgba(0, 0, 0, 0.1) 0 0 0 3em inset;\n          }\n          &:focus {\n            box-shadow: ${rgba(color.tertiary, 0.4)} 0 1px 9px 2px;\n          }\n          &:focus:hover {\n            box-shadow: ${rgba(color.tertiary, 0.2)} 0 8px 18px 0px;\n          }\n        `\n      }\n    `}\n\n  ${(props) =>\n    props.appearance === APPEARANCES.OUTLINE &&\n    `\n      box-shadow: ${color.medium} 0 0 0 1px inset;\n      color: ${color.dark};\n      background: transparent;\n\n      ${\n        !props.isLoading &&\n        `\n          &:hover {\n            box-shadow: ${color.mediumdark} 0 0 0 1px inset;\n          }\n\n          &:active {\n            background: ${color.medium};\n            box-shadow: ${color.medium} 0 0 0 1px inset;\n            color: ${color.darkest};\n          }\n          &:focus {\n            box-shadow: ${color.medium} 0 0 0 1px inset, ${rgba(\n          color.secondary,\n          0.4,\n        )} 0 1px 9px 2px;\n          }\n          &:focus:hover {\n            box-shadow: ${color.medium} 0 0 0 1px inset, ${rgba(\n          color.secondary,\n          0.2,\n        )} 0 8px 18px 0px;\n          }\n        `\n      };\n    `};\n\n  ${(props) =>\n    props.appearance === APPEARANCES.PRIMARY_OUTLINE &&\n    `\n        box-shadow: ${color.primary} 0 0 0 1px inset;\n        color: ${color.primary};\n\n        &:hover {\n          box-shadow: ${color.primary} 0 0 0 1px inset;\n          background: transparent;\n        }\n\n        &:active {\n          background: ${color.primary};\n          box-shadow: ${color.primary} 0 0 0 1px inset;\n          color: ${color.lightest};\n        }\n        &:focus {\n          box-shadow: ${color.primary} 0 0 0 1px inset, ${rgba(\n      color.primary,\n      0.4,\n    )} 0 1px 9px 2px;\n        }\n        &:focus:hover {\n          box-shadow: ${color.primary} 0 0 0 1px inset, ${rgba(\n      color.primary,\n      0.2,\n    )} 0 8px 18px 0px;\n        }\n      `};\n\n  ${(props) =>\n    props.appearance === APPEARANCES.SECONDARY_OUTLINE &&\n    `\n        box-shadow: ${color.secondary} 0 0 0 1px inset;\n        color: ${color.secondary};\n\n        &:hover {\n          box-shadow: ${color.secondary} 0 0 0 1px inset;\n          background: transparent;\n        }\n\n        &:active {\n          background: ${color.secondary};\n          box-shadow: ${color.secondary} 0 0 0 1px inset;\n          color: ${color.lightest};\n        }\n        &:focus {\n          box-shadow: ${color.secondary} 0 0 0 1px inset,\n            ${rgba(color.secondary, 0.4)} 0 1px 9px 2px;\n        }\n        &:focus:hover {\n          box-shadow: ${color.secondary} 0 0 0 1px inset,\n            ${rgba(color.secondary, 0.2)} 0 8px 18px 0px;\n        }\n      `};\n`;\n\nconst ButtonLink = styled.a``;\n\nexport const Button = forwardRef(function Button(\n  {\n    isDisabled,\n    isLoading,\n    loadingText,\n    isLink,\n    children,\n    ButtonWrapper,\n    ...props\n  },\n  ref,\n) {\n  if (ButtonWrapper) {\n    return (\n      <StyledButton\n        as={ButtonWrapper}\n        disabled={isDisabled}\n        isLoading={isLoading}\n        {...props}\n        ref={ref}\n      >\n        <>\n          <Text>{children}</Text>\n          {isLoading && <Loading>{loadingText || 'Loading...'}</Loading>}\n        </>\n      </StyledButton>\n    );\n  }\n  if (isLink) {\n    return (\n      <StyledButton as={ButtonLink} isLoading={isLoading} {...props} ref={ref}>\n        <>\n          <Text>{children}</Text>\n          {isLoading && <Loading>{loadingText || 'Loading...'}</Loading>}\n        </>\n      </StyledButton>\n    );\n  }\n  return (\n    <StyledButton\n      disabled={isDisabled}\n      isLoading={isLoading}\n      {...props}\n      ref={ref}\n    >\n      <>\n        <Text>{children}</Text>\n        {isLoading && <Loading>{loadingText || 'Loading...'}</Loading>}\n      </>\n    </StyledButton>\n  );\n});\n\nButton.propTypes = {\n  /**\n   * Checks if the button is in a loading state\n   */\n  isLoading: PropTypes.bool,\n  /**\n   * When a button is in the loading state you can supply custom text\n   */\n  loadingText: PropTypes.node,\n  /**\n   * Buttons that have hrefs should use <a> instead of <button>\n   */\n  isLink: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n  appearance: PropTypes.oneOf(Object.values(APPEARANCES)),\n  isDisabled: PropTypes.bool,\n  /**\n   Prevents users from clicking on a button multiple times (for things like payment forms)\n  */\n  isUnclickable: PropTypes.bool,\n  /**\n   * Buttons with icons by themselves have a circular shape\n   */\n  containsIcon: PropTypes.bool,\n  /*\n   * Size of the button\n   */\n  size: PropTypes.oneOf(Object.values(SIZES)),\n  /**\n   * A component that wraps the button\n   * Can be used to add custom styles or props to the button\n   */\n  ButtonWrapper: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n};\n\nButton.defaultProps = {\n  isLoading: false,\n  loadingText: null,\n  isLink: false,\n  appearance: APPEARANCES.TERTIARY,\n  isDisabled: false,\n  isUnclickable: false,\n  containsIcon: false,\n  size: SIZES.MEDIUM,\n  ButtonWrapper: undefined,\n};\n"],"names":["Text","_styled","target","name","styles","Loading","APPEARANCES","PRIMARY","PRIMARY_OUTLINE","SECONDARY","SECONDARY_OUTLINE","TERTIARY","OUTLINE","SIZES","SMALL","MEDIUM","StyledButton","props","size","typography","s1","s2","weight","extrabold","isLoading","rgba","color","primary","easing","rubber","disabled","isUnclickable","containsIcon","appearance","lightest","darken","secondary","tertiary","darkest","medium","dark","mediumdark","ButtonLink","Button","forwardRef","isDisabled","loadingText","isLink","children","ButtonWrapper","ref","jsx","jsxs","Fragment","propTypes","PropTypes","bool","node","isRequired","oneOf","Object","values","oneOfType","func","object","defaultProps","undefined"],"mappings":"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"}